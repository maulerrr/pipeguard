# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –ª–æ–≥–æ–≤ CI/CD

–£—Ç–∏–ª–∏—Ç–∞ `generate_logs.py` —Å–ª—É–∂–∏—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–±–æ—Ä–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –ª–æ–≥–æ–≤ CI/CD-–ø–∞–π–ø–ª–∞–π–Ω–æ–≤ —Å —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–º–∏ –∞–Ω–æ–º–∞–ª–∏—è–º–∏.


## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:
  - `argparse` (–≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É)
  - `json` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è)
  - `random` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è)
  - `datetime` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è)


## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª `generate_logs.py`.
2. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): 
```
chmod +x generate_logs.py
```

(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```
python3 -m venv venv
source venv/bin/activate
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```
usage: generate_logs.py [-h] [--output-dir OUTPUT_DIR] [--runs RUNS]
                        [--anomaly-prob ANOMALY_PROB]

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö CI/CD –ª–æ–≥–æ–≤

optional arguments:
  -h, --help            –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≤—ã–π—Ç–∏
  -o, --output-dir      –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è JSON-—Ñ–∞–π–ª–æ–≤ (default: "logs")
  -r, --runs            –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≥–æ–Ω–æ–≤/—Å–µ—Å—Å–∏–π –ø–∞–π–ø–ª–∞–π–Ω–æ–≤ (default: 100)
  -p, --anomaly-prob    –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∞–Ω–æ–º–∞–ª–∏–π –≤ –∫–∞–∂–¥–æ–º —à–∞–≥–µ (0.0‚Äì1.0, default: 0.05)
  ```

## –ü—Ä–∏–º–µ—Ä—ã

### –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 200 –ø—Ä–æ–≥–æ–Ω–æ–≤ —Å 3 % –∞–Ω–æ–º–∞–ª–∏–π, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–∞–ø–∫–µ `logs/`
```
python generate_logs.py --runs 200 --anomaly-prob 0.03
```

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `logs/` –ø–æ—è–≤–∏—Ç—Å—è 200 —Ñ–∞–π–ª–æ–≤:

```
logs/
‚îú‚îÄ‚îÄ run_001.json
‚îú‚îÄ‚îÄ run_002.json
‚îú‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ run_200.json
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –ø–∞–ø–∫—É

```
python generate_logs.py -r 50 -p 0.10 -o synthetic_logs
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –≤ `synthetic_logs/`.

---

### –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª `run_XXX.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –∑–∞–ø–∏—Å–µ–π –≤–∏–¥–∞:
```
[
  {
    "run_id": 1,
    "timestamp": "2025-05-14T12:00:05.123456",
    "stage": "checkout",
    "status": "INFO",
    "message": "checkout succeeded",
    "label": 0              // 0 = –Ω–æ—Ä–º–∞, 1 = –∞–Ω–æ–º–∞–ª–∏—è
  },
  {
    "run_id": 1,
    "timestamp": "2025-05-14T12:00:25.654321",
    "stage": "install",
    "status": "ERROR",
    "message": "install failed",
    "label": 1
  },
  ...
]
```


`run_id `‚Äî –Ω–æ–º–µ—Ä —Å–µ—Å—Å–∏–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞.

`timestamp` ‚Äî –º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ —à–∞–≥–∞.

`stage` ‚Äî —ç—Ç–∞–ø –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–∏–∑ —Å–ø–∏—Å–∫–∞ ["checkout", "install", "build", "test", "deploy"]).

`status` ‚Äî "INFO" –¥–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —à–∞–≥–∞, "ERROR" –¥–ª—è –∞–Ω–æ–º–∞–ª–∏–∏.

`message` ‚Äî —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è.

`label` ‚Äî —á–∏—Å–ª–æ–≤–∞—è –º–µ—Ç–∫–∞ (0 ‚Äî –Ω–æ—Ä–º–∞, 1 ‚Äî –∞–Ω–æ–º–∞–ª–∏—è).

---

# –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ JSON-–ª–æ–≥–∏ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –º–æ–¥–µ–ª–∏.

* –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤ CI/CD, –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –ø—Ä—è–º–æ –≤ workflow.

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã runs –∏ anomaly-prob –¥–ª—è –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.